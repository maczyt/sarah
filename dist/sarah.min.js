(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_directives=require("./directives"),_directives2=_interopRequireDefault(_directives),_filters=require("./filters"),_filters2=_interopRequireDefault(_filters);Object.defineProperty(exports,"__esModule",{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var KEY_RE=/^[^\|]+/,FILTERS_RE=/\|[^\|]+/g,Directive=function(){function a(b,c,d,e){if(_classCallCheck(this,a),"function"==typeof b)this._update=b;else for(var g in b){if("update"==g){this._update=b.update;continue}this[g]=b[g]}this.attr=c,this.arg=d,this.key=e;var f=c.value.match(FILTERS_RE)}return _createClass(a,[{key:"update",value:function update(a){this._update(a)}}]),a}();exports.default={parse:function parse(a,b){if(!a.name.startsWith(b))return null;var c=a.name.slice(b.length+1),d=c.indexOf("-"),e=-1===d?null:c.slice(d+1),f=e?c.slice(0,d):c,g=_directives2.default[f],h=a.value.match(KEY_RE);return g?new Directive(g,a,e,h[0].trim()):null}};

},{"./directives":2,"./filters":3}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _watchArray=require("./watchArray"),_watchArray2=_interopRequireDefault(_watchArray),_sarah=require("./sarah"),_sarah2=_interopRequireDefault(_sarah);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}exports.default={text:function text(a){this.el.textContent=a||""},class:function _class(a){this.el.classList[a?"add":"remove"](this.arg)},show:function show(a){this.el.style.display=a?"":"none"},repeat:{bind:function bind(){this.el["s-block"]=!0,this.prefixRE=new RegExp("^"+this.arg+".");var a=this.container=this.el.parentNode;this.marker=document.createComment("s-repeat-"+this.arg+"-marker"),a.insertBefore(this.marker,this.el),a.removeChild(this.el),this.childSarahs=[]},update:function update(a){var b=this;(0,_watchArray2.default)(a,this.mutate.bind(this)),a.forEach(function(c,d){b.childSarahs.push(b.buildItem(c,d,a))})},mutate:function mutate(a){console.log(a)},buildItem:function buildItem(a,b,c){var d=this.el.cloneNode(!0),e=new _sarah2.default({el:d,scope:a,eachPrefixRE:this.prefixRE,parentScope:this.vm.scope});return this.container.insertBefore(d,this.marker),c[b]=e.scope,e}},on:{update:function update(a,b,c,d){d.handlers||(d.handlers={});var e=d.handlers;e[c]&&a.removeEventListener(c,e[c]),b&&(b=b.bind(a),a.addEventListener(c,b),e[c]=b)},unbind:function unbind(a,b,c){c.handlers&&a.removeEventListener(b,c.handlers[b])}}};

},{"./sarah":5,"./watchArray":6}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={capitalize:function capitalize(a){return a=a.toString(),a.charAt(0).toUpperCase()+a.slice(1)}};

},{}],4:[function(require,module,exports){
"use strict";var _sarah=require("./sarah"),_sarah2=_interopRequireDefault(_sarah);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}window.Sarah=_sarah2.default;

},{"./sarah":5}],5:[function(require,module,exports){
"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_filters=require("./filters"),_filters2=_interopRequireDefault(_filters),_directives=require("./directives"),_directives2=_interopRequireDefault(_directives),_directive=require("./directive"),_directive2=_interopRequireDefault(_directive);Object.defineProperty(exports,"__esModule",{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var prefix="s",Sarah=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,a),this.el="string"==typeof b.el?document.querySelector(b.el):b.el;var c=this.el;for(var d in this._options=b,this._bindings={},this.scope={},this._compileNode(c),this._bindings)this.scope[d]=b.scope[d]}return _createClass(a,[{key:"_compileNode",value:function _compileNode(a){var b=this;3===a.nodeType?this._compileTextNode(a):a.attributes&&a.attributes.length&&cloneAttributes(a.attributes).forEach(function(c){var d=_directive2.default.parse(c,prefix);d&&b._bind(a,d)}),!a["s-block"]&&a.childNodes.length&&[].forEach.call(a.childNodes,function(a){b._compileNode(a)})}},{key:"_compileTextNode",value:function _compileTextNode(){}},{key:"_bind",value:function _bind(a,b){b.vm=this,b.el=a,a.removeAttribute(b.attr.name);var c=b.key,d=this._options.eachPrefixRE;d&&(c=c.replace(d,""));var e=this._bindings[c]||this._createBinding(c);e.directives.push(b),b.bind&&b.bind.call(b,e.value)}},{key:"_createBinding",value:function _createBinding(a){var b={value:void 0,directives:[]};return this._bindings[a]=b,Object.defineProperty(this.scope,a,{get:function get(){return b.value},set:function set(a){b.value=a,b.directives.forEach(function(b){b.update(a)})}}),b}}]),a}();exports.default=Sarah;function cloneAttributes(a){return[].map.call(a,function(a){return{name:a.name,value:a.value}})}

},{"./directive":1,"./directives":2,"./filters":3}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ArrayProto=Array.prototype,mutatorMethods=["push","unshift","pop","shift","splice","reverse","sort"];exports.default=function(a,b){mutatorMethods.forEach(function(c){a[c]=function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];ArrayProto[c].apply(this,e),b({event:c,args:e,array:a})}})};

},{}]},{},[4]);
